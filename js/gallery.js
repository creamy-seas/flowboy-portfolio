            ;var kg={};function lg(a){return a.classList.add("collapse-open")}function mg(a){a.classList.remove("collapse-open")}
function ng(a){a=a.currentTarget.closest(".collapse[gallery-season-key]");for(var b=P(xc(document.querySelectorAll(".collapse[gallery-season-key]"))),c=null,d=0,e=0;;)if(e<d){var f=c.K(null,e);!cc.h(f,a)&&mg(f);e+=1}else if(b=P(b))c=b,Rc(c)?(b=Bb(c),e=Cb(c),c=b,d=X(b),b=e):(b=R(c),!cc.h(b,a)&&mg(b),b=S(c),c=null,d=0),e=0;else break;return a.classList.toggle("collapse-open")}
function og(){for(var a=P(xc(document.querySelectorAll(".collapse-title"))),b=null,c=0,d=0;;)if(d<c)b.K(null,d).addEventListener("click",ng),d+=1;else if(a=P(a))b=a,Rc(b)?(a=Bb(b),d=Cb(b),b=a,c=X(a),a=d):(R(b).addEventListener("click",ng),a=S(b),b=null,c=0),d=0;else break;a=(new URLSearchParams(location.search)).get("season");z(a)?(a=document.querySelector(['.collapse[gallery-season-key\x3d"',I.g(a),'"]'].join("")),a=z(a)?lg(a):null):a=null;return a}da("gallery.collapse.init",og);og();var pg={};if(typeof kg==="undefined"||typeof pg==="undefined"||typeof qg==="undefined")var qg=new yd(null);if(typeof kg==="undefined"||typeof pg==="undefined"||typeof rg==="undefined")var rg=window.GALLERY_DATA_MAX_IDX;
function sg(a,b,c){var d=document.getElementById("gallery-modal-iframe");c=(new Date(c)).toLocaleDateString(navigator.language,{day:"numeric",month:"long",year:"numeric"});d.src=a;d.title=b;document.getElementById("gallery-modal-description").textContent=b;return document.getElementById("gallery-modal-date").textContent=c}
function tg(a){if(cc.h(a,cb(qg)))return null;var b=window.GALLERY_DATA[a];zd(qg,a);sg(b.src,b.description,b.date);document.getElementById("gallery-modal").classList.remove("hidden");a:{a=b.season;b=P(xc(document.querySelectorAll(".collapse[gallery-season-key]")));for(var c=null,d=0,e=0;;)if(e<d){var f=c.K(null,e);cc.h(f.getAttribute("gallery-season-key"),a)?lg(f):mg(f);e+=1}else if(b=P(b))c=b,Rc(c)?(b=Bb(c),d=Cb(c),c=b,f=X(b),b=d,d=f):(f=R(c),cc.h(f.getAttribute("gallery-season-key"),a)?lg(f):mg(f),
b=S(c),c=null,d=0),e=0;else{a=null;break a}a=void 0}return a}function ug(a){a.stopPropagation();a=document.getElementById("gallery-modal");return z(a)?(a.classList.add("hidden"),zd(qg,null),sg(null,null,null)):null}function vg(a){a.stopPropagation();return tg(parseInt(a.currentTarget.getAttribute("gallery-idx")))}function wg(a){a.stopPropagation();a=cb(qg)-1;return tg(0>a?0:a)}function xg(a){a.stopPropagation();a=cb(qg)+1;return tg(rg<a?rg:a)}
function yg(a){if(cb(qg)!=null)switch(a.key){case "ArrowLeft":return wg(a);case "ArrowRight":return xg(a);case "Escape":return ug(a);default:return null}else return null}
function zg(){jg("gallery-modal",ug);jg("gallery-modal-future",wg);jg("gallery-modal-past",xg);for(var a=P(xc(document.querySelectorAll(".gallery-card"))),b=null,c=0,d=0;;)if(d<c)b.K(null,d).addEventListener("click",vg),d+=1;else if(a=P(a))b=a,Rc(b)?(a=Bb(b),d=Cb(b),b=a,c=X(a),a=d):(R(b).addEventListener("click",vg),a=S(b),b=null,c=0),d=0;else break;document.addEventListener("keydown",yg);a=(new URLSearchParams(location.search)).get("gallery-idx");return z(a)?tg(a):null}da("gallery.modal.init",zg);
zg();